package com.techlab.repository;

import java.util.List;

import com.techlab.entity.Customer;

import jakarta.persistence.EntityManager;
import jakarta.persistence.Query;
import jakarta.persistence.TypedQuery;

public class CustomerRepositoryImpl implements CustomerRepository {
	
	private EntityManager manager;

	@Override
	public List<Customer> getAllCustomers() {
		
		TypedQuery<Customer> query=manager.createQuery("select s  from Customer s",Customer.class);
		return query.getResultList();
	}

	@Override
	public void addCustomer(Customer customer) {
		// TODO Auto-generated method stub
		manager.persist(customer);
	}

	@Override
	public void deleteCustomerById(int customerId) {
		// TODO Auto-generated method stub
		Query query = manager.createQuery("Delete  from Customer c where c.id = :id");
        query.setParameter("id", customerId);	
	}

	@Override
	public void updateCustomer(Customer customer) {
		// TODO Auto-generated method stub
		manager.merge(customer);
	}

}
